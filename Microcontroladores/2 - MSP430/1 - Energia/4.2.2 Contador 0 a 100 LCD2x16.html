<!DOCTYPE html>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">


<title>Documento sin título</title>
<style type="text/css">
<!--
p.MsoNormal {
margin-top:0cm;
margin-right:0cm;
margin-bottom:10.0pt;
margin-left:0cm;
line-height:115%;
font-size:11.0pt;
font-family:"Calibri","sans-serif";
}
-->
</style>
<style type="text/css">
<!--
table.MsoNormalTable {
font-size:10.0pt;
font-family:"Calibri","sans-serif";
}
-->
</style>
<script type="text/javascript">
	document.oncontextmenu = function(){return false;}
    function disabletext(e){
    return false
    }
    function reEnable(){
    return true
    }
    document.onselectstart=new Function ("return false")
    if (window.sidebar){
    document.onmousedown=disabletext
    document.onclick=reEnable
    }
</script>
<style type="text/css">
<!--
p.MsoListParagraph {
margin-top:0cm;
margin-right:0cm;
margin-bottom:10.0pt;
margin-left:36.0pt;
line-height:115%;
font-size:11.0pt;
font-family:"Calibri","sans-serif";
}
p.MsoNormal1 {	margin-top: 0cm;
	margin-right: 0cm;
	margin-bottom: 10.0pt;
	margin-left: 0cm;
	line-height: 115%;
	font-size: 12pt;
	font-family: Arial, sans-serif;
}
-->
</style>
</head>

<body>
<strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Contador 0 a 100 LCD2x16</span></strong>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:normal;background:white;">&nbsp;</p>
<video controls="controls" controlslist="nodownload" preload="preload" autoplay="autoplay" loop="loop">
  <source src="../video/4.2.2%20Contador%200%20a%20100%20LCD2x16.m4v" type="video/mp4">
</video>
<pre>#include&nbsp;&lt;<span style="color: #FF0000;">LiquidCrystal</span>.h&gt;

<span style="color: #FF0000;">const</span> <span style="color: #FF8000;">int</span> rs = P2_0, en = P2_1, d4 = P2_2, d5 = P2_3, d6 = P2_4, d7 = P2_5;
<span style="color: #FF0000;">LiquidCrystal</span> lcd(rs, en, d4, d5, d6, d7);

#define&nbsp;boton_inc&nbsp;P1_0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #007F00;">//Boton incremento</span>
#define&nbsp;boton_dec&nbsp;P1_1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #007F00;">//Boton decremento</span>
#define&nbsp;boton_reset&nbsp;P1_2&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #007F00;">//Boton reset</span>

#define&nbsp;estado_boton_inc&nbsp;<span style="color: #FF8000;">digitalRead</span>(boton_inc)
#define&nbsp;estado_boton_dec&nbsp;<span style="color: #FF8000;">digitalRead</span>(boton_dec)
#define&nbsp;estado_boton_reset&nbsp;<span style="color: #FF8000;">digitalRead</span>(boton_reset)

<span style="color: #FF8000;">boolean</span> estado_boton_inc_ant;
<span style="color: #FF8000;">boolean</span> estado_boton_dec_ant;

<span style="color: #FF8000;">byte</span> contador = 0;
<span style="color: #FF8000;">char</span> txt2stream[4];

<span style="color: #FF0000;">void</span> <span style="color: #8B308B;"><b>setup</b></span>() 
{
&nbsp;&nbsp;<span style="color: #FF8000;">pinMode</span>(boton_inc, <span style="color: #0066FF;">INPUT</span>);
&nbsp;&nbsp;<span style="color: #FF8000;">pinMode</span>(boton_dec, <span style="color: #0066FF;">INPUT</span>);
&nbsp;&nbsp;<span style="color: #FF8000;">pinMode</span>(boton_reset, <span style="color: #0066FF;">INPUT</span>);
&nbsp;&nbsp;lcd.<span style="color: #FF8000;">begin</span>(16, 2);
&nbsp;&nbsp;<span style="color: #FF8000;">delay</span>(200);
&nbsp;&nbsp;lcd.<span style="color: #FF8000;">setCursor</span>(0,0);
&nbsp;&nbsp;lcd.<span style="color: #FF8000;">print</span>(<span style="color: #0066FF;">"BI:   BD:   BR: "</span>);
&nbsp;&nbsp;lcd.<span style="color: #FF8000;">setCursor</span>(0,1);
&nbsp;&nbsp;lcd.<span style="color: #FF8000;">print</span>(<span style="color: #0066FF;">"Contador:"</span>);
}

<span style="color: #FF0000;">void</span> <span style="color: #FF8000;">loop</span>()
{
&nbsp;&nbsp;<span style="color: #FF0000;">if</span> (estado_boton_inc!=estado_boton_inc_ant)
&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #FF0000;">if</span> ((estado_boton_inc==1)&amp;&amp;(contador&lt;100))
&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;contador++;
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;estado_boton_inc_ant&nbsp;=&nbsp;estado_boton_inc;
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #FF8000;">delay</span>(5);
&nbsp;&nbsp;}

&nbsp;&nbsp;<span style="color: #007F00;">//Programar acción boton_dec</span>

&nbsp;&nbsp;<span style="color: #FF0000;">if</span> (estado_boton_reset==1)
&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;contador&nbsp;=&nbsp;0;
&nbsp;&nbsp;}

&nbsp;&nbsp;lcd.<span style="color: #FF8000;">setCursor</span>(3,0);
&nbsp;&nbsp;sprintf(txt2stream,<span style="color: #0066FF;">"%u"</span>,estado_boton_inc);
&nbsp;&nbsp;lcd.<span style="color: #FF8000;">print</span>(txt2stream);
&nbsp;&nbsp;
&nbsp;&nbsp;lcd.<span style="color: #FF8000;">setCursor</span>(9,0);
&nbsp;&nbsp;sprintf(txt2stream,<span style="color: #0066FF;">"%u"</span>,estado_boton_dec);
&nbsp;&nbsp;lcd.<span style="color: #FF8000;">print</span>(txt2stream);

&nbsp;&nbsp;lcd.<span style="color: #FF8000;">setCursor</span>(9,1);
&nbsp;&nbsp;sprintf(txt2stream,<span style="color: #0066FF;">"%u  "</span>,contador);
&nbsp;&nbsp;lcd.<span style="color: #FF8000;">print</span>(txt2stream);
&nbsp;&nbsp;<span style="color: #FF8000;">delay</span>(50);
}
</pre>
</body></html>