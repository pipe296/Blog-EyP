<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Documento sin título</title>
<style type="text/css">
<!--
p.MsoNormal {
	margin-top: 0cm;
	margin-right: 0cm;
	margin-bottom: 10.0pt;
	margin-left: 0cm;
	line-height: 115%;
	font-size: 11.0pt;
	/* [disabled]font-family: "Calibri","sans-serif"; */
}
-->
</style>
<style type="text/css">
<!--
table.MsoNormalTable {
font-size:10.0pt;
font-family:"Calibri","sans-serif";
}
-->
</style>
<script type="text/javascript">
	document.oncontextmenu = function(){return false;}
    function disabletext(e){
    return false
    }
    function reEnable(){
    return true
    }
    document.onselectstart=new Function ("return false")
    if (window.sidebar){
    document.onmousedown=disabletext
    document.onclick=reEnable
    }
</script>
<style type="text/css">
<!--
p.MsoListParagraph {
	margin-top: 0cm;
	margin-right: 0cm;
	margin-bottom: 10.0pt;
	margin-left: 36.0pt;
	line-height: 115%;
	font-size: 11.0pt;
	/* [disabled]font-family: "Calibri","sans-serif"; */
}
-->
</style>
<style type="text/css">
<!--
-->
</style>
<style type="text/css">
<!--
-->
</style>
<style type="text/css">
<!--
-->
</style>
</head>

<body>
<figure>
  <figcaption></figcaption>
</figure>
<p class="MsoNormal" style="margin-top:0cm;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:2.0pt;line-height:12.4pt;text-autospace:none;"><span style="position:relative; top:-1.0pt; font-family:'Courier New'; font-size:12.0pt; color:#007E00; ">/**</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; "> </span></p>
<p class="MsoNormal" style="margin-top:1.45pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:2.0pt;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:#007E00; ">Display<span style="letter-spacing:-1.5pt; "> </span>7 segmenti per corso arduino.</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; "> </span></p>
<p class="MsoNormal" style="margin-top:2.0pt;margin-right:413.35pt;margin-bottom:.0001pt;margin-left:2.0pt;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:#007E00; ">segmenti:</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; "> </span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:422.25pt;margin-bottom:.0001pt;margin-left:2.0pt;line-height:125%;text-autospace:none;"><span style="line-height:125%; font-family:'Courier New'; font-size:12.0pt; color:#007E00; ">a <span style="letter-spacing:5.5pt; "> </span>P2_0</span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:422.25pt;margin-bottom:.0001pt;margin-left:2.0pt;line-height:125%;text-autospace:none;"><span style="line-height:125%; font-family:'Courier New'; font-size:12.0pt; color:#007E00; ">b  <span style="letter-spacing:-1.7pt; "> </span>P2_1</span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:422.25pt;margin-bottom:.0001pt;margin-left:2.0pt;line-height:125%;text-autospace:none;"><span style="line-height:125%; font-family:'Courier New'; font-size:12.0pt; color:#007E00; ">c    P2_2</span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:422.25pt;margin-bottom:.0001pt;margin-left:2.0pt;line-height:125%;text-autospace:none;"><span style="line-height:125%; font-family:'Courier New'; font-size:12.0pt; color:#007E00; ">d    P2_3</span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:422.25pt;margin-bottom:.0001pt;margin-left:2.0pt;line-height:125%;text-autospace:none;"><span style="line-height:125%; font-family:'Courier New'; font-size:12.0pt; color:#007E00; ">e    P2_4</span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:422.25pt;margin-bottom:.0001pt;margin-left:2.0pt;line-height:125%;text-autospace:none;"><span style="line-height:125%; font-family:'Courier New'; font-size:12.0pt; color:#007E00; ">f    P2_5</span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:422.25pt;margin-bottom:.0001pt;margin-left:2.0pt;line-height:125%;text-autospace:none;"><span style="line-height:125%; font-family:'Courier New'; font-size:12.0pt; color:#007E00; ">g    P2_6</span> </p>
<p class="MsoNormal" style="margin-top:.35pt;margin-right:0cm;margin-bottom:.0001pt;margin-left:0cm;line-height:6.5pt;text-autospace:none;"><span style="font-family:'Courier New'; font-size:6.5pt; color:black; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-top:0cm;margin-right:401.35pt;margin-bottom:.0001pt;margin-left:2.0pt;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:#007E00; ">SW1<span style="letter-spacing:-1.1pt; "> </span>12 P2_3</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; "> </span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:464.0pt;margin-bottom:.0001pt;margin-left:2.0pt;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:#007E00; ">*/</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; "> </span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:10.0pt;text-autospace:none;"><span style="font-family:'Courier New'; font-size:10.0pt; color:black; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:'Times New Roman','serif'; font-size:10.0pt; color:black; "> </span></p>
<p><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">#define&nbsp;SW1  P1_0 //Boton incremento</span></p>
<p><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">#define&nbsp;SW2  P1_1 //Boton decremento</span></p>
<p><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">#define SW3  P1_2 //Boton reset</span></p>
<p><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">#define DEBOUNCE 1000</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:#FF7F00; ">byte </span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">unidades = 0;</span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:0cm;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:#FF7F00; ">byte<span style="letter-spacing:-1.95pt; "> </span></span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">seven_seg_digits[11][7]<span style="letter-spacing:-2.15pt; "> </span>=<span style="letter-spacing:-2.4pt; "> </span>{</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:10.0pt;text-autospace:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">{<span style="letter-spacing:.1pt; "> </span>0,0,0,0,0,0,0 },</span><span style="font-family:'Courier New'; font-size:12.0pt; color:#007E00; ">// = blank</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; "> </span></p>
<p class="MsoNormal" style="margin-top:3.2pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:0cm;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:black; "><span class="MsoNormal" style="margin-bottom:.0001pt;line-height:10.0pt;text-autospace:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   &nbsp;</span>{ 1,1,1,1,1,1,0 },</span><span style="font-family:'Courier New'; font-size:12.0pt; color:#007E00; ">// = 0</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; "> </span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:0cm;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:black; "><span class="MsoNormal" style="margin-bottom:.0001pt;line-height:10.0pt;text-autospace:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   &nbsp;</span>{ 0,1,1,0,0,0,0 },</span><span style="font-family:'Courier New'; font-size:12.0pt; color:#007E00; ">// = 1</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; "> </span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:0cm;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:black; "><span class="MsoNormal" style="margin-bottom:.0001pt;line-height:10.0pt;text-autospace:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   &nbsp;</span>{ 1,1,0,1,1,0,1 },</span><span style="font-family:'Courier New'; font-size:12.0pt; color:#007E00; ">// = 2</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; "> </span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:0cm;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:black; "><span class="MsoNormal" style="margin-bottom:.0001pt;line-height:10.0pt;text-autospace:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   &nbsp;</span>{ 1,1,1,1,0,0,1 },</span><span style="font-family:'Courier New'; font-size:12.0pt; color:#007E00; ">// = 3</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; "> </span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:0cm;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:black; "><span class="MsoNormal" style="margin-bottom:.0001pt;line-height:10.0pt;text-autospace:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   &nbsp;</span>{ 0,1,1,0,0,1,1 },</span><span style="font-family:'Courier New'; font-size:12.0pt; color:#007E00; ">// = 4</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; "> </span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:0cm;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:black; "><span class="MsoNormal" style="margin-bottom:.0001pt;line-height:10.0pt;text-autospace:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   &nbsp;</span>{ 1,0,1,1,0,1,1 },</span><span style="font-family:'Courier New'; font-size:12.0pt; color:#007E00; ">// = 5</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; "> </span></p>
<p class="MsoNormal" style="margin-top:3.2pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:0cm;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:black; "><span class="MsoNormal" style="margin-bottom:.0001pt;line-height:10.0pt;text-autospace:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   &nbsp;</span>{ 1,0,1,1,1,1,1 },</span><span style="font-family:'Courier New'; font-size:12.0pt; color:#007E00; ">// = 6</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; "> </span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:0cm;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:black; "><span class="MsoNormal" style="margin-bottom:.0001pt;line-height:10.0pt;text-autospace:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   &nbsp;</span>{ 1,1,1,0,0,0,0 },</span><span style="font-family:'Courier New'; font-size:12.0pt; color:#007E00; ">// = 7</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; "> </span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:0cm;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:black; "><span class="MsoNormal" style="margin-bottom:.0001pt;line-height:10.0pt;text-autospace:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   &nbsp;</span>{ 1,1,1,1,1,1,1 },</span><span style="font-family:'Courier New'; font-size:12.0pt; color:#007E00; ">// = 8</span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:0cm;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:black; "><span class="MsoNormal" style="margin-bottom:.0001pt;line-height:10.0pt;text-autospace:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   &nbsp;</span>{ 1,1,1,0,0,1,1 <span style="letter-spacing:-.05pt; ">}</span></span><span style="font-family:'Courier New'; font-size:12.0pt; color:#007E00; ">// = 9</span> </p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:0cm;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:black; "><span class="MsoNormal" style="margin-bottom:.0001pt;line-height:10.0pt;text-autospace:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>};</span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:0cm;line-height:normal;text-autospace:none;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:10.0pt;text-autospace:none;"><span style="font-family:'Courier New'; font-size:10.0pt; color:black; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:10.0pt;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:#FF7F00; ">byte </span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">segment_to_pin[7] = {P2_0,  P2_1, P2_2, P2_3,  P2_4, P2_5, P2_6};</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:10.0pt;text-autospace:none;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:10.0pt;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:red; ">unsigned </span><span style="font-family:'Courier New'; font-size:12.0pt; color:#FF7F00; ">long </span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">last_read;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:10.0pt;text-autospace:none;"><span style="font-family:'Courier New'; font-size:10.0pt; color:black; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:10.0pt;text-autospace:none;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:10.0pt;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:red; ">void </span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">write_digit(</span><span style="font-family:'Courier New'; font-size:12.0pt; color:#FF7F00; ">byte </span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">cifra, bool dp){</span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:15.9pt;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:red; ">fo<span style="letter-spacing:-.5pt; ">r</span></span><span style="letter-spacing:-.25pt; font-family:'Courier New'; font-size:12.0pt; color:black; ">(</span><span style="font-family:'Courier New'; font-size:12.0pt; color:#FF7F00; ">int </span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">i=0; i&lt;7; i++){</span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:30.1pt;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:#FF7F00; ">digitalWrite</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">(segment_to_pin[i]<span style="letter-spacing:-2.9pt; ">,</span>seven_seg_digits[cifra+1][i]);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:10.0pt;text-autospace:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">}</span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:2.0pt;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">}</span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:2.0pt;line-height:normal;text-autospace:none;">&nbsp;</p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:2.0pt;line-height:normal;text-autospace:none;">&nbsp;</p>
<p class="MsoNormal" style="margin-top:0cm;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:2.0pt;line-height:12.4pt;text-autospace:none;"><span style="position:relative; top:-1.0pt; font-family:'Courier New'; font-size:12.0pt; color:red; ">void </span><strong> <span style="position:relative; top:-1.0pt; font-family:'Courier New'; font-size:12.0pt; color:#8A2F8A; ">setup</span></strong><span style="position:relative; top:-1.0pt; font-family:'Courier New'; font-size:12.0pt; color:black; ">(){</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; "> </span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:15.9pt;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:red; ">for</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">(</span><span style="font-family:'Courier New'; font-size:12.0pt; color:#FF7F00; ">int </span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">p=0; p&lt;8; p++){</span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:30.1pt;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:#FF7F00; ">pinMode</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">(segment_to_pin[p],<span style="letter-spacing:-4.1pt; "> </span></span><span style="font-family:'Courier New'; font-size:12.0pt; color:#0066FF; ">OUTPUT</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:10.0pt;text-autospace:none;"><span style="font-family:'Courier New'; font-size:10.0pt; color:black; ">&nbsp;</span>&nbsp;&nbsp;&nbsp;<span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">}</span></p>
<p class="MsoNormal" style="margin-top:1.45pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:2.0pt;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:#FF7F00; ">	&nbsp;&nbsp;pinMode</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">(SW1, </span><span style="font-family:'Courier New'; font-size:12.0pt; color:#0066FF; ">INPUT_PULLUP</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">);</span></p>
<span style="font-family:'Courier New'; font-size:12.0pt; color:black; "><br clear="all" style="page-break-before:auto;">
</span>
<p class="MsoNormal" style="margin-top:0cm;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:2.0pt;line-height:12.4pt;text-autospace:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="position:relative; top:-1.0pt; font-family:'Courier New'; font-size:12.0pt; color:#FF7F00; ">pinMode</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">(SW2, </span><span style="position:relative; top:-1.0pt; font-family:'Courier New'; font-size:12.0pt; color:#0066FF; ">INPUT_PULLUP</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">);</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; "> </span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:250.65pt;margin-bottom:.0001pt;margin-left:2.0pt;line-height:125%;text-autospace:none;"><span style="line-height:125%; font-family:'Courier New'; font-size:12.0pt; color:#FF7F00; ">&nbsp;&nbsp;pinMode</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">(SW3, </span><span style="line-height:125%; font-family:'Courier New'; font-size:12.0pt; color:#0066FF; ">INPUT_PULLUP</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">);</span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:250.65pt;margin-bottom:.0001pt;margin-left:2.0pt;line-height:125%;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">&nbsp;&nbsp;last_read =</span><span style="font-family:'Courier New'; font-size:12.0pt; color:#FF7F00; "> millis</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">();</span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:250.65pt;margin-bottom:.0001pt;margin-left:2.0pt;line-height:125%;text-autospace:none;"><span style="font-family: 'Courier New'; font-size: 12.0pt; color: black">&nbsp;&nbsp;</span><span style="line-height:125%; font-family:'Courier New'; font-size:12.0pt; color:red; ">for</span><span style="line-height:125%; letter-spacing:-.25pt; font-family:'Courier New'; font-size:12.0pt; color:black; ">(</span><span style="font-family:'Courier New'; font-size:12.0pt; color:#FF7F00; ">int </span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">p=0; p&lt;99; p++){</span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:250.65pt;margin-bottom:.0001pt;margin-left:2.0pt;line-height:125%;text-autospace:none;"><span style="font-family: 'Courier New'; font-size: 12.0pt; color: black">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">write_digit(8, 0);</span></p>
<p class="MsoNormal" style="margin-top:3.2pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:16.15pt;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:#FF7F00; ">&nbsp;&nbsp;delay</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">(10);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:10.0pt;text-autospace:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">}</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:10.0pt;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">}</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:10.0pt;text-autospace:none;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:10.0pt;text-autospace:none;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:10.0pt;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:red; ">void </span><span style="font-family:'Courier New'; font-size:12.0pt; color:#FF7F00; ">loo<span style="letter-spacing:-.7pt; ">p</span></span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">(){</span> </p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:15.9pt;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:red; ">i<span style="letter-spacing:-.25pt; ">f</span></span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">(</span><span style="font-family:'Courier New'; font-size:12.0pt; color:#FF7F00; ">digitalRead</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">(SW1) ==<span style="letter-spacing:-1.9pt; "> </span></span><span style="font-family:'Courier New'; font-size:12.0pt; color:#0066FF; ">LOW</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">){</span></p>
<p class="MsoNormal" style="margin-top:3.2pt;margin-right:174.1pt;margin-bottom:.0001pt;margin-left:44.0pt;line-height:125%;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:red; ">if</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">(</span><span style="font-family:'Courier New'; font-size:12.0pt; color:#FF7F00; ">millis</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">()<span style="letter-spacing:-1.3pt; "> </span>- last_read &gt; DEBOUNCE){ </span><span style="font-family:'Courier New'; font-size:12.0pt; color:red; ">if </span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">(unidades&lt;9)<span style="letter-spacing:-3.6pt; "> </span>{unidades++;} last_read<span style="letter-spacing:.45pt; "> </span><span style="letter-spacing:.05pt; ">=</span></span><span style="font-family:'Courier New'; font-size:12.0pt; color:#FF7F00; ">millis</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">();</span></p>
<p class="MsoNormal" style="margin-top:.15pt;margin-right:0cm;margin-bottom:.0001pt;margin-left:0cm;line-height:5.0pt;text-autospace:none;"><span style="font-family:'Courier New'; font-size:5.0pt; color:black; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-top:1.8pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:29.85pt;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">}</span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:15.9pt;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">}</span></p>
<p class="MsoNormal" style="margin-top:.2pt;margin-right:0cm;margin-bottom:.0001pt;margin-left:0cm;line-height:9.0pt;text-autospace:none;"><span style="font-family:'Courier New'; font-size:9.0pt; color:black; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-top:1.8pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:15.9pt;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:red; ">if&nbsp;</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">(</span><span style="font-family:'Courier New'; font-size:12.0pt; color:#FF7F00; ">digitalRead</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">(SW2) == </span><span style="font-family:'Courier New'; font-size:12.0pt; color:#0066FF; ">LOW</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">){</span></p>
<p class="MsoNormal" style="margin-top:3.2pt;margin-right:174.1pt;margin-bottom:.0001pt;margin-left:44.0pt;line-height:125%;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:red; ">if</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">&nbsp;(</span><span style="font-family:'Courier New'; font-size:12.0pt; color:#FF7F00; ">millis</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">() - last_read &gt; DEBOUNCE){ </span><span style="font-family:'Courier New'; font-size:12.0pt; color:red; ">if </span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">(unidades&gt;0) {unidades--;} &nbsp;&nbsp;last_read =</span><span style="font-family:'Courier New'; font-size:12.0pt; color:#FF7F00; ">millis</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">();</span></p>
<p class="MsoNormal" style="margin-top:3.2pt;margin-right:174.1pt;margin-bottom:.0001pt;margin-left:44.0pt;line-height:125%;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">}</span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:15.9pt;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">}</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:10.0pt;text-autospace:none;"><span style="font-family:'Courier New'; font-size:10.0pt; color:black; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-top:1.8pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:15.9pt;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:red; ">if&nbsp;</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">(</span><span style="font-family:'Courier New'; font-size:12.0pt; color:#FF7F00; ">digitalRead</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">(SW3) == </span><span style="font-family:'Courier New'; font-size:12.0pt; color:#0066FF; ">LOW</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">){</span></p>
<p class="MsoNormal" style="margin-top:3.2pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:30.05pt;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:red; ">if&nbsp;</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">(</span><span style="font-family:'Courier New'; font-size:12.0pt; color:#FF7F00; ">millis</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">() - last_read &gt; DEBOUNCE){</span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:41.85pt;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">&nbsp;unidades=0;</span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:48.3pt;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">last_read =</span><span style="font-family:'Courier New'; font-size:12.0pt; color:#FF7F00; ">millis</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">();</span></p>
<p class="MsoNormal" style="margin-top:.1pt;margin-right:0cm;margin-bottom:.0001pt;margin-left:0cm;line-height:9.0pt;text-autospace:none;"><span style="font-family:'Courier New'; font-size:9.0pt; color:black; ">&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">}</span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:15.9pt;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">}</span></p>
<p class="MsoNormal" style="margin-top:0cm;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:2.0pt;line-height:12.4pt;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">&nbsp;&nbsp;write_digit(unidades, 0);</span></p>
<p class="MsoNormal" style="margin-top:0cm;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:2.0pt;line-height:12.4pt;text-autospace:none;"><span style="font-family: 'Courier New'; font-size: 12.0pt; color: black">&nbsp;&nbsp;</span><span style="font-family:'Courier New'; font-size:12.0pt; color:#FF7F00; ">delay</span><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">(10);</span></p>
<p class="MsoNormal" style="margin-top:3.45pt;margin-right:-1.0pt;margin-bottom:.0001pt;margin-left:4.65pt;line-height:normal;text-autospace:none;"><span style="font-family:'Courier New'; font-size:12.0pt; color:black; ">}</span></p>
<p class="MsoNormal"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:12.0pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; "><br>
Manos a la obra!!!</span></p>
<p class="MsoNormal" style="margin-bottom:12.0pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; "><br>
  En PIC-C CCS creamos un&nbsp;proyecto con las siguientes características:</span></p>
<p class="MsoNormal" style="margin-bottom:12.0pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">* Micro-controlador  PIC 18F4550.</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:normal;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">* Frecuencia  de reloj 20 MHz</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:normal;">&nbsp;</p>
<div align="center"></div>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Agregamos la&nbsp;librería&nbsp;<strong>#include&nbsp;&lt;flex_lcd.c&gt;&nbsp;</strong>que  hace una&nbsp;función similar&nbsp;a la de un driver en una PC, pero esta vez  entre el PIC y la LCD.</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Para conocer como se debe conectar el LCD, abriremos la  librería &ldquo;<strong>flex_lcd.c</strong>&rdquo;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Descripción de conexiones del LCD</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">En las primeras líneas podemos ver que se definen los  pines del microcontrolador a los cuales irán conectados los pines del LCD, y  serán éstos los que&nbsp;usaremos&nbsp;para diseñar nuestro circuito en Proteus  ISIS.</span></p>
<p class="MsoNormal" style="margin-bottom:12.0pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; "><br>
  En el circuito&nbsp;seleccionamos&nbsp;un&nbsp;<strong>PIC18F4550</strong>&nbsp;y  un&nbsp;<strong>LM016L</strong> (pantalla  LCD&nbsp;<strong>2x16</strong>), como en  ejercicios anteriores algunas conexiones no se hacen por simplificar, pero eso  no indica que, cuando vamos hacerlo en un Proto-Board no debamos hacerlas. (ej:  conexión del pin V0 – contraste del LCD).</span></p>
<p class="MsoNormal" style="margin-bottom:12.0pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Hay que  recordar configurar el reloj 20MHz (<strong>en la simulación</strong>), también colocar  en alto el pin 1 del PIC (MCLR).</span></p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Comentarios:</span></strong></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></strong></p>
<ol>
  <li><strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">lcd_gotoxy(1,1);</span></strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;nos  indica que la próxima instrucción que escriba datos en el LCD los ubicará en la  fila 1 columna 1.</span></li>
  <li><strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">printf(lcd_putc, &quot; escribir aqui &quot;);&nbsp;</span></strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Este comando es para escribir en la  pantalla LCD y escribe lo que está dentro de la comillas.</span></li>
</ol>
<p style="line-height:115%; font-family:'Arial','sans-serif'; font-size:12.0pt; ">Extraído parcialmente de: <a href="http://22xd.blogspot.com/2011/04/programando-pic-con-ccs-ejercicio-3-lcd.html">http://22xd.blogspot.com/2011/04/programando-pic-con-ccs-ejercicio-3-lcd.html</a></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:12.0pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Ahora,  imaginemos que nuestro dispositivo analógico varía su tensión de salida entre  1V y 2V. Si utilizamos el primer ejemplo que vimos, conversión A/D entre 0V y  5V con 8 bits de precisión, entonces solo obtendremos números entre 51 y 102,  perdiendo todos los valores inferiores y superiores a éstos.</span></p>
<p class="MsoNormal" style="margin-bottom:12.0pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Si  utilizamos el ejemplo anterior a éste pero colocando el VRef+ a 2V entonces  tendremos valores entre 128 y 255 pero ninguno inferior a 128 ya que nuestra  tensión analógica no baja de 1V .... </span></p>
<p class="MsoNormal" style="margin-bottom:12.0pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Así  que la solución está en utilizar otra patilla del PIC, en este caso para VRef-,  o sea para ponerle la referencia de tensión mínima a partir de la cual vamos a  convertir valores, que junto con la VRef+ tenemos el margen o rango de  tensiones a convertir a gusto.</span></p>
<span style="line-height:115%; font-family:'Arial','sans-serif'; font-size:12.0pt; ">En este segundo ejemplo pondríamos VRef- a 1V y VRef+  a 2V con lo que tendríamos una conversión de 8 bits en la que el 0  correspondería a los 1V y el 255 a los 2V ...</span>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Todo esto se puede ver en el siguiente  diagrama de bloques del conversor A/D de los PIC's de la familia 16F87X:</span></p>
<p class="MsoNormal" style="margin-bottom:12.0pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" align="center" style="margin-bottom:.0001pt;text-align:center;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; "> </span><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Como ejemplo del uso del conversor ADC del  microcontrolador vamos a utilizar las funciones para leer el dato proveniente  de un sensor en el rango de 0 a 5V.  </span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Como funcionalidades mínimas haremos que sea  capaz de leer una entrada entre 0 y 5V de manera que para 0V representará 0 ºC  y 5V representará 100 ºC.</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" align="center" style="margin-bottom:.0001pt;text-align:center;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Comentarios del programa:</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">El ejemplo está debidamente documentado, por lo cual  su comprensión no reviste mayor dificultad.</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Se debe tener especial atención al seleccionar el  canal a leer:</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">set_adc_channel(0); esta instrucción selecciona el  canal AN0</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">set_adc_channel(1); esta instrucción selecciona el  canal AN1</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">set_adc_channel(2); esta instrucción selecciona el  canal AN2…  etc…</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Temperatura = read_adc(); esta instrucción lee el  valor análogo en el canal seleccionado previamente</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Para observar la variación de la unidad medida se ha  dispuesto un potenciómetro para simular el sensor de temperatura.</span></p>
<p class="MsoNormal" align="center" style="margin-bottom:.0001pt;text-align:center;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Extraído parcialmente de:</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; "><a href="http://picmania.garcia-cuervo.net/conceptos.php#CONVAD01">http://picmania.garcia-cuervo.net/conceptos.php#CONVAD01</a></span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">El ejemplo es un contador. Como funcionalidades  mínimas haremos que sea capaz de contar del 0 al 9 de manera ascendente y  descendente, y que tenga un botón de RESET a cero.</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Y por supuesto que si se corta el suministro de  energía guarda en memoria el último valor. </span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Cuando queremos utilizar más de un display y minimizar  el número de pines en el PIC para su control hay varias formas de hacerlo, una  de ellas (la que utilizaremos en este ejemplo) es utilizar un decodificador BCD  a 7 segmentos como el 7447 ó 7448.</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Otra forma es multiplexar las líneas de datos, es  decir en cada instante solo habrá un display activo pero el cambio de uno a  otro será tan rápido que para el ojo humano parecerá que los dos están activos  a la vez, este sistema es bueno porque nos ahorramos los decodificadores, pero  si utilizamos más de cuatro display, notaremos un parpadeo molesto.  </span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">El código del programa será el siguiente:</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Comentarios del programa:</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">El ejemplo básicamente es un contador  ascendente/descendente de 0 a 9 que incrementa su valor cada vez que pulsamos  &quot;INC&quot; (PIN B0) y decrementa el contador si se pulsa &ldquo;DEC&rdquo; (PIN B1) y  además se puede restablecer a cero si se pulsa &ldquo;RESET&rdquo; (PIN B2). Para evitar  que el contador se reinicie y empiece a contar desde cero cada vez que se  interrumpa el suministro de energía, el valor actual del contador se almacenará  en la memoria EEPROM del PIC en vez de en la memoria RAM. Como solo queremos  guardar un valor que estará comprendido entre 0 y 99, solo utilizaremos el  primer byte de la memoria EEPROM.</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">La primera vez que se ejecute el programa el valor de  la EEPROM es 0xFF (viene así de fábrica) por lo que tendremos que sobrescribir  su valor a 0 para iniciar el conteo, después de esto esta condición no se  cumplirá más.  </span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">contador = read_eeprom(dir_contador);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">if ((contador&gt;9)||(contador&lt;0))</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">   contador=0; </span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Proteus simula bastante bien el uso de la memoria  EEPROM del PIC, si paramos la simulación y volvemos a iniciarla vemos como los  valores de la EEPROM se mantienen.</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Extraído parcialmente de:</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; "><a href="http://www.aquihayapuntes.com/indice-practicas-pic-en-c/memoria-eeprom-interna-del-pic.html">http://www.aquihayapuntes.com/indice-practicas-pic-en-c/memoria-eeprom-interna-del-pic.html</a></span><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; "> </span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><a name="UART"><strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">UART</span></strong></a><strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; "> </span></strong></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Algunas referencias de microcontroladores PIC incluyen  módulos para comunicación dentro de su hardware. El módulo para comunicaciones  RS-232 se conoce también como UART.</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Para este tipo de comunicación lo primero será  configurarla mediante la siguiente directiva en la cabecera del programa:</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; "><br>
  <span style="color:#00B050; ">#use  rs232(baud=9600,bits=8,parity=N,xmit=PIN_C6,rcv=PIN_C7,errors)</span></span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Esto quiere decir que cada vez que queramos utilizar  las funciones para enviar o recibir información utilizando el protocolo de  comunicación serie RS-232 debemos haber incluido previamente esta directiva,  que posibilita la comunicación del PIC con otro dispositivo.</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">En general habrá que usar un conversor de niveles  basado en el MAX232 o similar.</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">El protocolo serie es una descripción  &quot;digital&quot; (0/1) de lo que debe estar pasando en la línea (por  ejemplo, 1 mientras se espera, 0 indica el bit de start, etc.), pero no  especifica que voltajes representan el 0/1 lógicos.</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Por ejemplo en los PIC se usa la convención (lógica)  que el 0 lógico son 0V y el 1 lógico (línea alta) son 5V.</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">En el puerto serie de un PC (standard RS232) la  relación lógica/voltajes está invertida. Un 0 lógico se representa con un  voltaje entre 3 y 15V (12 es típico) y un 1 lógico por un voltaje negativo  (entre -3 y -15V). Es por esto por lo que para comunicar PIC-PC necesitamos un  Max232 o equivalente.</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Las especificaciones de su tarjeta le dirán cuales son  los voltajes asociados a su puerto serie. Si dice algo de RS232 tendrá que usar  seguramente un buffer tipo MAX232.</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Si nuestro PIC no tiene UART como es el caso del PIC  16f84A, CCS nos permite implementar la comunicación serie por software y de  forma totalmente transparente para el programador. Sin embargo el utilizar un  PIC con UART nos permite disponer de una serie de funcionalidades adicionales,  como el empleo de interrupciones para controlar el envío y recepción de datos.</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; "> Si queremos realizar una comunicación serie utilizando la UART del MSP430G2553, las conexiones tendrán que ser a las siguientes: P1_2 para la transmisión de datos y P1_1 para la recepción de datos.</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom: .0001pt; text-align: justify; line-height: 13.5pt; background: white; font-family: Arial, sans-serif; font-size: 12pt;">El procedimiento Serial.begin(baud) admite como parámetro la tasa de transferencia de bits de la comunicación a establecer:</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">baud</span></strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; "> con este parámetro establecemos la  velocidad en baudios a la que queremos que se transmitan los datos por el  puerto serie, 9600 es lo normal.</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">bits</span></strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; "> número de bits que utilizaremos en  la transmisión, el estándar establece que pueden ser 8 ó 9, para la  comunicación con microcontroladores con 8 son suficientes.</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">parity</span></strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; "> nos permite utilizar un bit de  paridad para la comprobación de errores.<strong></strong></span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">xmit</span></strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; "> ésta opción nos permite seleccionar  la patilla del PIC por la cual saldrán los datos.</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">rcv</span></strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; "> ésta opción nos permite seleccionar  la patilla del PIC por la cual PIC se recibirán los datos.</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">errors</span></strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; "> El PIC se sobrecargará al recibir 3  caracteres con la función getc(). Esta opción previene el apagado del módulo  UART detectando la condición y reseteándolo.</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Pero ¿de qué funciones disponemos para enviar y  recibir datos desde y hacia nuestro microcontrolador?.</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Para éste propósito disponemos de múltiples funciones</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Para enviar una cadena de caracteres: <strong>Serial.print()</strong></span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">La forma de hacer la llamada a la función printf es la  siguiente:</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Serial.print(cadena de caracteres,valores);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Los datos se enviaran por el puerto serie al pin que  hayamos definido en la directiva #use RS232, en esta llamada vemos que tenemos  la cadena de caracteres limitada por las comillas dobles y separado por una  coma, como tercer parámetro el nombre de la variable i1 que habíamos declarado  previamente. En la cadena de caracteres vemos que aparece el carácter de %  seguido de la letra d, ese es un carácter especial para la función y lo que le  indica a la función es que en esa posición muestre el valor de la variable i1,  la d le indica a la función que represente ese valor en formato de número  entero. Podemos representar el valor de la variable en diferentes formatos  según se muestra en la tabla de abajo:</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; "><br>
  &nbsp;</span></p>
<div align="center">
  <table class="MsoNormalTable" border="1" cellpadding="0" width="329" style="width:246.75pt;background:white;">
    <tr>
      <td width="42" style="width:31.5pt;padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">c</span></p></td>
      <td width="271" style="width:203.25pt;padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">Caracter</span></p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">s</span></p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">Cadena ó caracter</span></p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">u</span></p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">Entero sin signo</span></p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">d</span></p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">Entero con signo</span></p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">Lu</span></p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">Entero largo sin signo</span></p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">Ld</span></p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">Entero largo con signo</span></p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">x</span></p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">Entero Hexadecimal (minúsculas)</span></p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">X</span></p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">Entero Hexadecimal (mayúsculas)</span></p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">Lx</span></p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">Entero largo Hexadecimal (minúsculas)</span></p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">LX</span></p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">Entero largo Hexadecimal (mayúsculas)</span></p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">f</span></p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">Número real en coma flotante truncado</span></p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">g</span></p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">Número real en coma flotante con redondeo</span></p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">e</span></p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">Número real en formato exponencial</span></p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">w</span></p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">Entero sin signo con decimales insertados. Especifica dos números para n.    La 1ª cifra indica el total y la 2ª el número de decimales</span></p></td>
    </tr>
  </table>
</div>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Si quisiésemos mostrar el valor de más de una variable  lo haríamos de la siguiente forma:</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; "> </span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">printf(&quot;El valor i1 es: %d el de i2: %d y el de  i3: %d&quot;,i1,i2,i3);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; "> </span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Vamos con la última llamada a la función del 1º  ejemplo:</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; "> </span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">printf (lcd_putc,&quot;El valor de i1 es:  %d&quot;,i1);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">En esta llamada hemos incluido el primer parámetro y  hemos puesto el nombre de la función lcd_putc, está función está definida en la  librería LCD.C que trae el compilador para ayuda del manejo de los dispositivos  LCD y que hemos incluido en nuestro programa por medio de la directiva #include  &lt;lcd.c&gt;, vemos que la librería está encerrada entre los símbolos de  &lt;&gt; esto le indica al compilador que busque la librería en el directorio  en que se instalo el compilador, si copiáramos esa librería en otro directorio  tendríamos que indicarle la ruta completa, pero esta vez encerrada entre  comillas dobles.</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Las secuencias de escape se utilizan para representar  caracteres o acciones especiales.</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#00B050; ">printf(&quot;Esto es una  cadena\r&quot;);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">como parámetro incluimos una cadena de caracteres  constante que termina en (\r), esa barra invertida junto con la r se le llama  secuencia de escape y le está diciendo al compilador que al final de la cadena  introduzca un retorno de carro (tecla enter).</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">En la tabla de abajo se muestran las secuencias de escape que tenemos  disponibles para utilizar con la función printf:</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">&nbsp;</span></p>
<div align="center">
  <table class="MsoNormalTable" border="1" cellpadding="0" width="200" style="width:150.0pt;background:white;">
    <tr>
      <td width="28" style="width:21.0pt;padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">\r</span></p></td>
      <td width="156" style="width:117.0pt;padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">Retorno de carro</span></p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">\t</span></p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">Tabulador</span></p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">\'</span></p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">Comilla simple</span></p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">\&quot;</span></p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">Comillas dobles</span></p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">\\</span></p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">Barra invertida</span></p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">\?</span></p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">Símbolo de interrogación</span></p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">\0</span></p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">Caracter nulo</span></p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">\%</span></p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">Símbolo Tanto por ciento</span></p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">\b</span></p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">Retroceder un caracter</span></p></td>
    </tr>
  </table>
</div>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; color:#404040; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Para recibir solamente un caracter tenemos: <strong>getc(), getch() y getchar()</strong>. Las tres  hacen lo mismo por lo que podemos usarlas indistintamente.</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Estas funciones esperan un carácter por la patilla del  PIC que hayamos definido en la directiva #use RS232 con el parámetro <strong>rcv</strong>.</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Pues vamos a ver nuestro primer ejemplo acerca del uso  de estas funciones:</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;"><span style="line-height:115%; font-family:'Arial','sans-serif'; font-size:12.0pt; ">además de la  función printf esta directiva permite el uso de otras funciones para la entrada  y salida de datos serie como: getc, getchar, gets, puts y kbhit que iremos  viendo poco a poco, pero la más importante para la salida de datos sin duda es  printf, porque nos permite formatear la salida de esos datos de la forma que  nosotros queramos.</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Cada vez que por el pin configurado en la  directiva   #use rs232 como rcv se reciba  nueva información, actuará la interrupción por recepción RS232 anteriormente  habilitada y el programa saltará inmediatamente a la función int_RDA donde se  encuentra el código que debe ejecutarse, en este caso, mostrar la información  recibida por LCD.</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:12.0pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Durante la  simulación es muy conveniente que el micro nos mande mensajes, así como en un  programa de PC normal con la ayuda de la función printf(), para este caso se  puede conectar la terminal virtual de ISIS a la línea TX del micro que nos va a  mandar la información y, con un simple printf() el programa va a mandar esa  cadena por el puerto serial.</span></p>
<p class="MsoNormal" style="margin-bottom:12.0pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Manos a la  obra!!!</span></p>
<p class="MsoNormal" style="margin-bottom:12.0pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; "><br>
  En PIC-C CCS creamos un&nbsp;proyecto con las siguientes características:</span></p>
<p class="MsoNormal" style="margin-bottom:12.0pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">*  Micro-controlador PIC 18F4550.</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:normal;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">* Frecuencia  de reloj 20 MHz</span></p>
<div align="center">
  <table class="MsoNormalTable" border="0" cellspacing="0" cellpadding="0">
    <tr>
      <td style="padding:3.0pt 3.0pt 3.0pt 3.0pt;"></td>
    </tr>
    <tr style="height:1.0pt;">
      <td style="padding:3.0pt 3.0pt 3.0pt 3.0pt;height:1.0pt;"><p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:normal;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p></td>
    </tr>
  </table>
</div>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Agregamos la&nbsp;directiva&nbsp;<span style="color:#00B050; ">#use  rs232(baud=9600,bits=8,parity=N,xmit=PIN_C6,rcv=PIN_C7,errors)</span></span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<div align="center">
  <table class="MsoNormalTable" border="0" cellspacing="0" cellpadding="0">
    <tr>
      <td style="padding:3.0pt 3.0pt 3.0pt 3.0pt;"><p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:normal;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p></td>
    </tr>
  </table>
</div>
<p class="MsoNormal" align="center" style="margin-bottom:12.0pt;text-align:center;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:12.0pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Extraído  parcialmente de: <a href="http://www.aquihayapuntes.com/programacion-pic-en-c.html?start=7">http://www.aquihayapuntes.com/programacion-pic-en-c.html?start=7</a></span><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span class="MsoNormal" style="text-align:justify;"><a name="EEPROM_externa_I2C"><strong><span style="line-height:115%; font-family:'Arial','sans-serif'; font-size:12.0pt; ">EEPROM externa I2C</span></strong></a></span></p>
<p class="MsoNormal" style="text-align:justify;">Comprobamos los parámetros de  comunicación de los dispositivos en simulación, verificando con la herramienta  I2C debugger:</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp; </p>
</body>
</html>
