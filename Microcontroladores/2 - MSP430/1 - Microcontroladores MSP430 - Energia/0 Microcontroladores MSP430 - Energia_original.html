<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Documento sin título</title>
<style type="text/css">
<!--
p.MsoNormal {
	margin-top: 0cm;
	margin-right: 0cm;
	margin-bottom: 10.0pt;
	margin-left: 0cm;
	line-height: 115%;
	font-size: 11.0pt;
	/* [disabled]font-family: "Calibri","sans-serif"; */
}
-->
</style>
<style type="text/css">
<!--
table.MsoNormalTable {
font-size:10.0pt;
font-family:"Calibri","sans-serif";
}
-->
</style>
<script type="text/javascript">
	document.oncontextmenu = function(){return false;}
    function disabletext(e){
    return false
    }
    function reEnable(){
    return true
    }
    document.onselectstart=new Function ("return false")
    if (window.sidebar){
    document.onmousedown=disabletext
    document.onclick=reEnable
    }
</script>
<style type="text/css">
<!--
p.MsoListParagraph {
	margin-top: 0cm;
	margin-right: 0cm;
	margin-bottom: 10.0pt;
	margin-left: 36.0pt;
	line-height: 115%;
	font-size: 11.0pt;
	/* [disabled]font-family: "Calibri","sans-serif"; */
}
-->
</style>
<style type="text/css">
<!--
-->
</style>
<style type="text/css">
<!--
-->
</style>
<style type="text/css">
<!--
p.MsoNormal1 {margin-top: 0cm;
	margin-right: 0cm;
	margin-bottom: 10.0pt;
	margin-left: 0cm;
	line-height: 115%;
	font-size: 12pt;
	font-family: Arial, sans-serif;
}
-->
</style>
</head>

<body>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:normal;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><a name="Entradas_análogas"><strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Entradas análogas</span></strong></a></span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" align="center" style="margin-bottom:.0001pt;text-align:center;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; "> </span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">Como ejemplo del uso del conversor ADC del  microcontrolador vamos a utilizar las funciones para leer el dato proveniente  de un sensor en el rango de 0 a 5V.  </p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">Como funcionalidades mínimas haremos que sea  capaz de leer una entrada entre 0 y 5V de manera que para 0V representará 0 ºC  y 5V representará 100 ºC.</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">El esquema del circuito será el siguiente:</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" align="center" style="margin-bottom:.0001pt;text-align:center;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" align="center" style="margin-bottom:.0001pt;text-align:center;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" align="center" style="margin-bottom:.0001pt;text-align:center;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">El código del programa será el siguiente:</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" align="center" style="margin-bottom:.0001pt;text-align:center;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" align="center" style="margin-bottom:.0001pt;text-align:center;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">Comentarios del programa:</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">El ejemplo está debidamente documentado, por lo cual  su comprensión no reviste mayor dificultad.</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">Se debe tener especial atención al seleccionar el  canal a leer:</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">set_adc_channel(0); esta instrucción selecciona el  canal AN0</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">set_adc_channel(1); esta instrucción selecciona el  canal AN1</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">set_adc_channel(2); esta instrucción selecciona el  canal AN2…  etc…</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">Temperatura = read_adc(); esta instrucción lee el  valor análogo en el canal seleccionado previamente</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">Para observar la variación de la unidad medida se ha  dispuesto un potenciómetro para simular el sensor de temperatura.</p>
<p class="MsoNormal" align="center" style="margin-bottom:.0001pt;text-align:center;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">Extraído parcialmente de:</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><a href="http://picmania.garcia-cuervo.net/conceptos.php#CONVAD01">http://picmania.garcia-cuervo.net/conceptos.php#CONVAD01</a></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">0 a 1023</span></strong></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:#007F00; ">// include the library code:</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">#include &lt;</span><span style="font-family:Courier; font-size:10.0pt; color:red; ">LiquidCrystal</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">.h&gt;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:#007F00; ">// initialize the library with the  numbers of the interface pins</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:red; ">LiquidCrystal </span><span style="font-family:Courier; font-size:10.0pt; color:black; ">lcd(P2_0, P2_1, P2_2, P2_3, P2_4, P2_5);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">int </span><span style="font-family:Courier; font-size:10.0pt; color:black; ">sensor;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">char </span><span style="font-family:Courier; font-size:10.0pt; color:black; ">txt2stream[10];</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:red; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:red; ">void </span><strong><span style="font-family:Courier; font-size:10.0pt; color:#8C308C; ">setup</span></strong><span style="font-family:Courier; font-size:10.0pt; color:black; ">()</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">{</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">  lcd.</span><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">begin</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">(16, 2);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">  delay</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">(200);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">  lcd.</span><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">setCursor</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">(0,0);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">  sprintf(txt2stream,</span><span style="font-family:Courier; font-size:10.0pt; color:#0066FF; ">&quot;Sensor:&quot;</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">  lcd.</span><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">print</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">(txt2stream);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">}</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:red; ">void </span><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">loop</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">()</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">{</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">  sensor = </span><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">analogRead</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">(A0);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">  sprintf(txt2stream,</span><span style="font-family:Courier; font-size:10.0pt; color:#0066FF; ">&quot;%Lu &nbsp;&nbsp;&quot;</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">, sensor);</span></span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">  lcd.</span><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">setCursor</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">(8,0);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">  lcd.</span><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">print</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">(txt2stream);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">  delay</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">(500);</span></p>
<p class="MsoNormal"><span style="line-height:107%; font-family:Courier; font-size:10.0pt; color:black; ">}</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:normal;background:white;"><strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">0 a 100</span></strong></span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:#007F00; ">// include the library code:</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">#include &lt;</span><span style="font-family:Courier; font-size:10.0pt; color:red; ">LiquidCrystal</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">.h&gt;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:#007F00; ">// initialize the library with the  numbers of the interface pins</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:red; ">LiquidCrystal </span><span style="font-family:Courier; font-size:10.0pt; color:black; ">lcd(P2_0, P2_1, P2_2, P2_3, P2_4, P2_5);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">float </span><span style="font-family:Courier; font-size:10.0pt; color:black; ">sensor;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">char </span><span style="font-family:Courier; font-size:10.0pt; color:black; ">txt2stream[10];</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:red; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:red; ">void </span><strong><span style="font-family:Courier; font-size:10.0pt; color:#8C308C; ">setup</span></strong><span style="font-family:Courier; font-size:10.0pt; color:black; ">()</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">{</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">  lcd.</span><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">begin</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">(16, 2);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">  delay</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">(200);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">  lcd.</span><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">setCursor</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">(0,0);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">  sprintf(txt2stream,</span><span style="font-family:Courier; font-size:10.0pt; color:#0066FF; ">&quot;Sensor:&quot;</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">  lcd.</span><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">print</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">(txt2stream);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">}</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:red; ">void </span><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">loop</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">()</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">{</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">  sensor = </span><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">analogRead</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">(A0);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">  sensor =  sensor * 100 / 1023;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">  dostrf(sensor,3,2,txt2stream</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">);</span></span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">  lcd.</span><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">setCursor</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">(8,0);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">  lcd.</span><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">print</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">(txt2stream);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">  delay</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">(500);</span></p>
<p class="MsoNormal"><span style="line-height:107%; font-family:Courier; font-size:10.0pt; color:black; ">}</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:normal;background:white;"><strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">map analogRead</span></strong></span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:#007F00; ">// include the library code:</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">#include &lt;</span><span style="font-family:Courier; font-size:10.0pt; color:red; ">LiquidCrystal</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">.h&gt;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:#007F00; ">// initialize the library with the  numbers of the interface pins</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:red; ">LiquidCrystal </span><span style="font-family:Courier; font-size:10.0pt; color:black; ">lcd(P2_0, P2_1, P2_2, P2_3, P2_4, P2_5);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">float </span><span style="font-family:Courier; font-size:10.0pt; color:black; ">sensor;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">char </span><span style="font-family:Courier; font-size:10.0pt; color:black; ">txt2stream[10];</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:red; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:red; ">void </span><strong><span style="font-family:Courier; font-size:10.0pt; color:#8C308C; ">setup</span></strong><span style="font-family:Courier; font-size:10.0pt; color:black; ">()</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">{</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">  lcd.</span><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">begin</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">(16, 2);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">  delay</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">(200);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">  lcd.</span><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">setCursor</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">(0,0);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">  sprintf(txt2stream,</span><span style="font-family:Courier; font-size:10.0pt; color:#0066FF; ">&quot;Sensor:&quot;</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">  lcd.</span><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">print</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">(txt2stream);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">}</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:red; ">void </span><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">loop</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">()</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">{</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">  sensor = </span><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">analogRead</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">(A0);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">  sensor = </span><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">map</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">(sensor,0,1023,0,100);</span></span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">  dostrf(sensor,3,2,txt2stream</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">);</span></span></span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">  lcd.</span><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">setCursor</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">(8,0);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:black; ">  lcd.</span><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">print</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">(txt2stream);</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:Courier; font-size:10.0pt; color:#FF8000; ">  delay</span><span style="font-family:Courier; font-size:10.0pt; color:black; ">(500);</span></p>
<p class="MsoNormal"><span style="line-height:107%; font-family:Courier; font-size:10.0pt; color:black; ">}</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><strong><span class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><a name="Salida_análoga_PWM" id="Interrupción_externa_INT4"><strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Sa</span></strong></a></span><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">lida análoga PWM</span></strong></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:normal;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:12.0pt;text-align:justify;line-height:13.5pt;background:white;">Como ejemplo del uso de la conversión D/A  vamos a utilizar las funciones para controlar la velociidad de un motor de corriente continua conectado al colector de un transistor bipolar NPN (TIP41).</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">Haremos que nuestro circuito sea capaz de  realizar un conteo ascendente/descendente entre 0 y 1000 y que éste valor sea  asignado al ciclo de trabajo del PWM para manipular el voltaje aplicado a la base del transistor.</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"> <span style="text-align: center"></span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;; font-family: 'Arial', 'sans-serif'; font-size: 12.0pt">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">Comentarios del programa:</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">La variable PWM se ha programado que su valor aumente o disminuya 10 unidades por cada pulsación. Se ha limitado el valor máximo del parámetro PWM a 1000 y el mínimo a 0  y que nunca rebase estos límites. .</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">Se debe tener especial atención al asignar el ciclo de  trabajo al PWM, el cual debe ser un número entero comprendido entre 0 (0V) y  1000 (5V), es decir, el incremento en una unidad en el contador se verá  reflejado como una variación de 0,05V a la salida del pin C2 del  microcontrolador.</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">Extraído parcialmente de:</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><a href="http://www.dtic.upf.edu/~jlozano/interfaces/interfaces5.html">http://www.dtic.upf.edu/~jlozano/interfaces/interfaces5.html</a></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;; font-family: Courier; font-size: 10.0pt; color: black"><span class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><a name="Comunicación_serial_asíncrona_(UART)" id="Comunicación_serial_asíncrona_(UART)8"><strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Comunicación serial asíncrona (UART)</span></strong></a></span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:normal;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:normal;background:white;"><span class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:normal;background:white;"><strong><span style="font-family: 'Arial', 'sans-serif'; font-size: 12.0pt"></span></strong></span><span class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><a name="RS-232" id="Comunicación_serial_asíncrona_(UART)9"><strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">RS-232</span></strong></a></span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:normal;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">En el puerto serie de un PC (standard RS232) la  relación lógica/voltajes está invertida. Un 0 lógico se representa con un  voltaje entre 3 y 15V (12 es típico) y un 1 lógico por un voltaje negativo  (entre -3 y -15V). Es por esto por lo que para comunicar PIC-PC necesitamos un  Max232 o equivalente.</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">Las especificaciones de su tarjeta le dirán cuales son  los voltajes asociados a su puerto serie. Si dice  RS232 tendrá que usar  seguramente un buffer tipo MAX232.</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">Si queremos realizar una comunicación serie utilizando  la UART del MSP430G2553, las conexiones tendrán que ser a las siguientes: P1_2 para la  transmisión de datos y P1_1 para la recepción de datos.</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">El procedimiento Serial.begin(baud) admite como  parámetro la tasa de transferencia de bits de la comunicación a establecer:</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">baud</span></strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; "> con este parámetro establecemos la  velocidad en baudios a la que queremos que se transmitan los datos por el  puerto serie, 9600 es lo normal.</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">bits</span></strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; "> número de bits que utilizaremos en  la transmisión, el estándar establece que pueden ser 8 ó 9, para la  comunicación con microcontroladores con 8 son suficientes.</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">Pero ¿de qué funciones disponemos para enviar y  recibir datos desde y hacia nuestro microcontrolador?.</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">Para enviar una cadena de caracteres: <strong>Serial.print()</strong></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">La forma de hacer la llamada a la función printf es la  siguiente:</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">Serial.print(cadena de caracteres ó valores);</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">Los datos se enviaran por el puerto serie al pin que  al hardware del UART, en esta llamada vemos que tenemos  la cadena de caracteres limitada por las comillas dobles y separado por una  coma, como tercer parámetro el nombre de la variable i1 que habíamos declarado  previamente. En la cadena de caracteres vemos que aparece el carácter de %  seguido de la letra d, ese es un carácter especial para la función y lo que le  indica a la función es que en esa posición muestre el valor de la variable i1,  la d le indica a la función que represente ese valor en formato de número  entero. Podemos representar el valor de la variable en diferentes formatos  según se muestra en la tabla de abajo:</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;background:white;"><br>
  &nbsp;</p>
<div align="center">
  <table class="MsoNormalTable" border="1" cellpadding="0" width="329" style="width:246.75pt;background:white;">
    <tr>
      <td width="42" style="width:31.5pt;padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">c</p></td>
      <td width="271" style="width:203.25pt;padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">Caracter</p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">s</p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">Cadena ó caracter</p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">u</p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">Entero sin signo</p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">d</p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">Entero con signo</p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">Lu</p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">Entero largo sin signo</p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">Ld</p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">Entero largo con signo</p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">x</p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">Entero Hexadecimal (minúsculas)</p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">X</p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">Entero Hexadecimal (mayúsculas)</p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">Lx</p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">Entero largo Hexadecimal (minúsculas)</p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">LX</p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">Entero largo Hexadecimal (mayúsculas)</p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">f</p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">Número real en coma flotante truncado</p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">g</p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">Número real en coma flotante con redondeo</p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">e</p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">Número real en formato exponencial</p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">w</p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">Entero sin signo con decimales insertados. Especifica dos números para n.    La 1ª cifra indica el total y la 2ª el número de decimales</p></td>
    </tr>
  </table>
</div>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">Si quisiésemos mostrar el valor de más de una variable  lo haríamos de la siguiente forma:</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"> </p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">printf(&quot;El valor i1 es: %d el de i2: %d y el de  i3: %d&quot;,i1,i2,i3);</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"> </p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">Vamos con la última llamada a la función del 1º  ejemplo:</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"> </p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">printf (&quot;El valor de i1 es:  %d&quot;,i1);</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">Las secuencias de escape se utilizan para representar  caracteres o acciones especiales.</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">printf(&quot;Esto es una  cadena\r&quot;);</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">como parámetro incluimos una cadena de caracteres  constante que termina en (\r), esa barra invertida junto con la r se le llama  secuencia de escape y le está diciendo al compilador que al final de la cadena  introduzca un retorno de carro (tecla enter).</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;background:white;">En la tabla de abajo se muestran las secuencias de escape que tenemos  disponibles para utilizar con la función printf:</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;background:white;">&nbsp;</p>
<div align="center">
  <table class="MsoNormalTable" border="1" cellpadding="0" width="200" style="width:150.0pt;background:white;">
    <tr>
      <td width="28" style="width:21.0pt;padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">\r</p></td>
      <td width="156" style="width:117.0pt;padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">Retorno de carro</p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">\t</p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">Tabulador</p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">\'</p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">Comilla simple</p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">\&quot;</p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">Comillas dobles</p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">\\</p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">Barra invertida</p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">\?</p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">Símbolo de interrogación</p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">\0</p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">Caracter nulo</p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">\%</p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">Símbolo Tanto por ciento</p></td>
    </tr>
    <tr>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">\b</p></td>
      <td style="padding:0cm 0cm 0cm 0cm;"><p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;">Retroceder un caracter</p></td>
    </tr>
  </table>
</div>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:12.45pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">Para recibir solamente un caracter tenemos: <strong>getc(), getch() y getchar()</strong>. Las tres  hacen lo mismo por lo que podemos usarlas indistintamente.</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">Estas funciones esperan un carácter por la patilla del  PIC que hayamos definido en la directiva #use RS232 con el parámetro <strong>rcv</strong>.</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">Pues vamos a ver nuestro primer ejemplo acerca del uso  de estas funciones:</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;">además de la  función printf esta directiva permite el uso de otras funciones para la entrada  y salida de datos serie como: getc, getchar, gets, puts y kbhit que iremos  viendo poco a poco, pero la más importante para la salida de datos sin duda es  printf, porque nos permite formatear la salida de esos datos de la forma que  nosotros queramos.</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">Cada vez que por el pin configurado en la  directiva   #use rs232 como rcv se reciba  nueva información, actuará la interrupción por recepción RS232 anteriormente  habilitada y el programa saltará inmediatamente a la función int_RDA donde se  encuentra el código que debe ejecutarse, en este caso, mostrar la información  recibida por LCD.</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:12.0pt;text-align:justify;line-height:13.5pt;background:white;">Durante la  simulación es muy conveniente que el micro nos mande mensajes, así como en un  programa de PC normal con la ayuda de la función printf(), para este caso se  puede conectar la terminal virtual de ISIS a la línea TX del micro que nos va a  mandar la información y, con un simple printf() el programa va a mandar esa  cadena por el puerto serial.</p>
<p class="MsoNormal" style="margin-bottom:12.0pt;text-align:justify;line-height:13.5pt;background:white;">Manos a la  obra!!!</p>
<p class="MsoNormal" style="margin-bottom:12.0pt;text-align:justify;line-height:13.5pt;background:white;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Extraído  parcialmente de: <a href="http://www.aquihayapuntes.com/programacion-pic-en-c.html?start=7">http://www.aquihayapuntes.com/programacion-pic-en-c.html?start=7</a></span><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">&nbsp;</span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:normal;background:white;">&nbsp;</p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><span class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;line-height:13.5pt;background:white;"><a name="Comunicación_I2C"><strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">Co</span></strong></a><strong><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">municación I2C</span></strong></span></p>
<p class="MsoNormal" style="margin-bottom:.0001pt;text-align:justify;">&nbsp;</p>
<p class="MsoNormal" style="text-align:justify;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">El código del kernel de  Linux para el soporte I2C está separado en varias piezas lógicas:</span></p>
<p class="MsoNormal" style="text-align:justify;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">- I2C chip driver (maneja  uno de los chips conectados al bus I2C, tanto si se comporta como maestro o  como esclavo)</span></p>
<p class="MsoNormal" style="text-align:justify;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">- I2C bus driver</span></p>
<p class="MsoNormal" style="text-align:justify;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">- I2C algorithm driver</span></p>
<p class="MsoNormal" style="text-align:justify;"><span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">- I2C core (la parte  genérica del subsistema de I2C)</span></p>
<span style="font-family:'Arial','sans-serif'; font-size:12.0pt; ">*extraído de <a href="http://es.wikipedia.org/wiki/I%C2%B2C">http://es.wikipedia.org/wiki/I%C2%B2C</a></span>
<p class="MsoNormal" style="text-align:justify;">&nbsp;</p>
<p class="MsoNormal" style="text-align:justify;">&nbsp;</p>
<p class="MsoNormal" style="text-align:justify;"><span class="MsoNormal" style="text-align:justify;"><a name="EEPROM_externa_I2C"><strong><span style="line-height:115%; font-family:'Arial','sans-serif'; font-size:12.0pt; ">EEPROM externa I2C</span></strong></a></span></p>
<p class="MsoNormal" style="text-align:justify;">Comprobamos los parámetros de  comunicación de los dispositivos en simulación, verificando con la herramienta  I2C debugger:</p>
</body>
</html>
